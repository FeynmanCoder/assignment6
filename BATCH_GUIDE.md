# 论文阅读Agent - 批量处理使用指南

## 🚀 超简单使用（3步）

### 第1步：将PDF论文放入papers文件夹
```
papers/
├── 论文1.pdf
├── 论文2.pdf
└── 论文3.pdf
```

### 第2步：运行程序
```bash
python main.py
```

### 第3步：查看结果
所有分析结果会自动保存在 `output/` 文件夹中：
```
output/
├── 论文1.md              # Markdown转换
├── 论文1_analysis.md     # 分析报告
├── 论文2.md
├── 论文2_analysis.md
├── 论文3.md
└── 论文3_analysis.md
```

---

## 📖 详细使用说明

### 批量处理模式（默认）

**最简单的方式**：
```bash
python main.py
```

**使用Gemini**：
```bash
python main.py --provider gemini
```

**指定模型**：
```bash
python main.py --provider openai --model gpt-4
```

**自定义文件夹**：
```bash
python main.py --papers-dir ./my_papers --output-dir ./my_output
```

### 单文件处理模式

如果只想处理一篇论文：
```bash
python main.py --single paper.pdf
```

---

## 📁 文件夹结构

```
assignment6/
├── papers/              # 📥 放PDF论文的文件夹
│   ├── .gitkeep
│   └── *.pdf           # 你的PDF文件
│
├── output/              # 📤 输出结果的文件夹
│   ├── .gitkeep
│   └── *_analysis.md   # 分析报告
│
├── main.py              # 主程序
└── ...
```

---

## ✨ 程序会做什么

对于每篇PDF论文，程序会自动：

1. **转换PDF** → Markdown格式（保留图片和文字）
2. **深度分析** → 回答21个关于论文写作的问题
3. **生成报告** → 保存到output文件夹

分析的5大类别：
- 📋 基本信息（发表平台、创新点等）
- 📝 论文结构与写作
- 📊 图表分析
- ✍️ 写作建议
- 🤔 深度思考

---

## ⏱️ 处理时间

- 每篇论文：约3-10分钟（取决于长度）
- 3篇论文：约10-30分钟
- 建议：首次使用先放1-2篇短论文测试

---

## 💡 使用技巧

### 1. 分批处理
如果有很多论文，建议分批处理：
```bash
# 第一批
papers/
├── paper1.pdf
├── paper2.pdf
└── paper3.pdf

# 处理完成后，移走或删除
# 然后放入第二批
```

### 2. 命名规范
建议PDF文件使用有意义的名称：
- ✅ `ResNet_ImageNet_2015.pdf`
- ✅ `Transformer_Attention_2017.pdf`
- ❌ `paper1.pdf`
- ❌ `下载(1).pdf`

### 3. 检查结果
处理完成后，建议：
1. 打开 `output/` 文件夹
2. 查看每篇论文的 `_analysis.md` 文件
3. 学习论文写作技巧

### 4. 节省成本
- 使用 `gpt-3.5-turbo` 而非 `gpt-4`
- 或使用 Gemini（通常更便宜）
```bash
python main.py --provider openai --model gpt-3.5-turbo
```

---

## 🔧 故障排除

### 问题：找不到PDF文件
```
⚠️ 在 papers 文件夹中没有找到PDF文件
```
**解决**：确保PDF文件直接放在 `papers/` 文件夹中

### 问题：处理失败
```
❌ 失败: paper.pdf
```
**可能原因**：
- PDF加密或损坏
- API密钥无效
- 网络连接问题

**解决**：
1. 检查PDF文件是否能正常打开
2. 验证API密钥配置
3. 查看详细错误信息

### 问题：处理很慢
**正常现象**！LLM分析需要时间。
- 每个问题需要调用一次API
- 21个问题 = 21次API调用
- 耐心等待 :)

---

## 📊 批量处理示例输出

```
找到 3 篇论文待处理
============================================================

============================================================
处理进度: [1/3]
当前论文: ResNet_2015.pdf
============================================================

步骤1: 转换PDF到Markdown...
✅ 转换完成

步骤2: 分析论文...
分析类别: 基本信息
  问题 1/3: 这篇论文发表在什么平台...
  ...

步骤3: 生成分析报告...
✅ 成功: ResNet_2015.pdf

============================================================
批量处理完成！
============================================================
总计: 3 篇论文
成功: 3 篇
失败: 0 篇

所有结果已保存到: D:\...\output
```

---

## 🎓 下一步

1. **放入论文** → 将PDF放入 `papers/` 文件夹
2. **运行程序** → `python main.py`
3. **学习写作** → 阅读 `output/` 中的分析报告
4. **应用技巧** → 用于自己的论文写作

---

## 📚 更多帮助

- 完整文档：[README.md](README.md)
- 快速开始：[QUICKSTART.md](QUICKSTART.md)
- 示例代码：[example.py](example.py)
- 命令帮助：`python main.py --help`

---

**祝您论文写作顺利！** 🎉📝
